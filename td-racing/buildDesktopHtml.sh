#!/bin/bash

echo "Build Desktop and HTML version of the program"
echo "--------------------------------------------------------------------------"
echo ">> Remove eventually already created builds..."
echo "--------------------------------------------------------------------------"
rm -f ../desktop-1.0.jar
rm -rf ../html-1.0
echo "--------------------------------------------------------------------------"
echo ">> Clean Desktop and HTML..."
echo "--------------------------------------------------------------------------"
./gradlew desktop:clean
./gradlew html:clean
echo "--------------------------------------------------------------------------"
echo ">> Build Desktop..."
echo "--------------------------------------------------------------------------"
./gradlew desktop:dist
echo "--------------------------------------------------------------------------"
echo "<< Move .jar file"
echo "--------------------------------------------------------------------------"
mv ./desktop/build/libs/desktop-1.0.jar ../desktop-1.0.jar
echo "--------------------------------------------------------------------------"
echo ">> Build HTML..."
echo "--------------------------------------------------------------------------"
./gradlew html:dist
echo "--------------------------------------------------------------------------"
echo "<< Move web app directory"
echo "--------------------------------------------------------------------------"
mv ./html/build/dist ../html-1.0
echo "FINISHED"
